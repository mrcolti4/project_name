{"mappings":"C,A,W,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,S,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,E,SGMM,EAAa,OAAO,MAAA,CADR,AAAA,CAAA,EAAA,EAAA,OAAW,AAAX,EAAa,IAAA,CAAK,EAAA,GAAE,GAAM,CAAC,GAEvC,EAAe,SAAS,aAAA,CAAc,yBAEtC,EAAU,CACd,WAAY,EAAW,MAAvB,CACA,aAAc,GACd,aAAc,OAAO,UAAA,CAAa,IAAM,EAAI,EAC5C,KAAM,EACN,YAAa,CAAA,EACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,8DACN,YACE,mFACF,WACE,iHAGF,mBACE,gJAGF,WACE,mGAGJ,CACF,EAEM,EAAgB,G,C,AAAI,G,AAAA,E,U,C,AAAA,E,O,CAAA,C,EAAW,EAAc,GAa5C,SAAS,EAAqB,CAAG,EACtC,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,EAAe,EAAgB,EAAK,EAAG,QAAQ,YAA/C,GACA,EAAc,KAAA,CAAM,EAAI,MAAxB,EACA,EAAc,QAAA,CAAS,QAAQ,YAA/B,CACF,CAOO,SAAS,EAAgB,CAAG,CAAE,CAAI,CAAE,CAAU,EACnD,IAAM,EAAQ,AAAC,CAAA,EAAO,CAAA,EAAK,EACrB,EAAM,EAAQ,EAGpB,OADoB,EAAI,KAAA,CAAM,EAAO,EAEvC,CA3BA,EAAc,QAAA,CAAW,SAAU,CAAU,EAC3C,IAAM,EAAe,IAAI,CAAC,KAAA,CAAM,iBAAhC,AAEI,AADe,CAAA,IAAI,CAAC,QAAA,CAAS,UAAjC,EACkB,EAChB,EAAa,SAAA,CAAU,GAAA,CAAI,UAE3B,EAAa,SAAA,CAAU,MAAA,CAAO,SAElC,E,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,SDhCA,SAAS,IAAA,CAAK,SAAA,CAAU,GAAA,CAAI,YAE5B,IAAM,EAAW,AAAA,CAAA,EAAA,EAAA,OAAW,AAAX,EAAa,IAAA,CAAK,EAAA,GAAE,GAAM,CAAC,EAExC,EAAkB,AAAA,CAAA,EAAA,EAAA,kBAAiB,AAAjB,EAAmB,EAAA,GAAE,EAErC,EAAU,CACd,aAAc,OAAO,UAAA,CAAa,IAAM,GAAK,CAC/C,CAqCI,CAAA,EAAgB,MAAA,CAClB,AAAA,CAAA,EAAA,EAAA,iBAAgB,AAAhB,EAAkB,AAAA,EAAgB,EAAiB,EAAG,EAAQ,YADhE,GAGE,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,IAGF,AAAA,CAAA,EAAA,EAAA,YAAW,AAAX,EAAa,SAAA,CAAU,gBAAA,CAAiB,QAAS,SAAA,CAAjD,EAC4B,WAAtB,EAAE,MAAA,CAAO,QAAA,EACX,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,EAAe,EAAE,MAAA,CAAO,OAAA,CAAQ,gBAAgB,OAAA,CAAQ,EAD1D,CAGF,GACA,AAAA,CAAA,EAAA,EAAA,YAAW,AAAX,EAAa,UAAA,CAAW,gBAAA,CAAiB,QA9CzC,SAAwB,CAAC,EACvB,IAAM,EAAS,EAAE,MAAjB,CAEA,GAAI,AAAoB,WAApB,EAAO,QAAA,CAAuB,CAUhC,GANA,AAHyB,SAAS,aAAA,CAAc,eAG/B,SAAA,CAAU,MAAA,CAAO,cAClC,EAAO,SAAA,CAAU,GAAA,CAAI,cAErB,EAAkB,OAAO,MAAA,CAAO,GAG5B,EAAO,OAAA,CAAQ,sBAAuB,CAGxC,IAAM,EAAS,EAAgB,MAAA,CAAO,SAAtC,CAAA,EAAyC,IAAA,EAAA,EAAA,QAAA,CACvC,OAAO,EAAO,WAAA,GAAgB,CAChC,GAEA,EAAkB,EAClB,AAAA,EAAqB,GAErB,MACF,CAGA,GAAI,EAAO,OAAA,CAAQ,2BAA4B,CAC7C,AAAA,EAAqB,GAErB,MACF,CACF,CACF,GAeA,AAAA,EAAc,QAAA,CAAS,EAAQ,YAA/B,EACA,AAAA,EAAc,EAAA,CAAG,YAAa,SAAA,CAA9B,EClBE,IAAM,EAAA,EAAO,EDoBA,EADO,EAAM,IAA1B,CCnB4C,QAAQ,YAApD,EACA,AAAA,CAAA,EAAA,EAAA,cAAa,AAAb,EAAe,EDoBjB,G,E,S,E,S,E,S,E,S,E,S,E,S,E,Q","sources":["<anon>","src/favorites.js","src/js/favorites/favorites-main.js","src/js/favorites/pagination.js"],"sourcesContent":["(function () {\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired3cd\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired3cd\"] = parcelRequire;\n}\nparcelRequire(\"cBJFL\");\n\n\nvar $97LJI = parcelRequire(\"97LJI\");\n\nvar $iNcuh = parcelRequire(\"iNcuh\");\n\nvar $1VFfL = parcelRequire(\"1VFfL\");\n\nvar $97LJI = parcelRequire(\"97LJI\");\n\nvar $4s6iC = parcelRequire(\"4s6iC\");\n\nvar $bBuwI = parcelRequire(\"bBuwI\");\nvar $8d978fb9e8fe462c$var$loadCards = (0, $97LJI.default).load((0, $4s6iC.KEY)) || {};\nvar $8d978fb9e8fe462c$var$cardsArray = Object.values($8d978fb9e8fe462c$var$loadCards);\nvar $8d978fb9e8fe462c$var$pagContainer = document.querySelector(\".favorite__pagintaion\");\nvar $8d978fb9e8fe462c$var$options = {\n    totalItems: $8d978fb9e8fe462c$var$cardsArray.length,\n    itemsPerPage: 12,\n    visiblePages: window.innerWidth < 768 ? 2 : 3,\n    page: 1,\n    centerAlign: false,\n    firstItemClassName: \"tui-first-child\",\n    lastItemClassName: \"tui-last-child\",\n    template: {\n        page: '<a href=\"#\" class=\"pag__page-btn tui-page-btn\">{{page}}</a>',\n        currentPage: '<strong class=\"pag__current-page tui-page-btn tui-is-selected\">{{page}}</strong>',\n        moveButton: '<a href=\"#\" class=\"pag__btn-move tui-page-btn tui-{{type}}\"><span class=\"tui-ico-{{type}}\">{{type}}</span></a>',\n        disabledMoveButton: '<span class=\"pag__btn-move pag__btn-disabled tui-page-btn tui-is-disabled tui-{{type}}\"><span class=\"tui-ico-{{type}}\">{{type}}</span></span>',\n        moreButton: '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\"><span class=\"tui-ico-ellip\">...</span></a>'\n    }\n};\nvar $8d978fb9e8fe462c$export$5940bd278fe7b1b2 = new (0, (/*@__PURE__*/$parcel$interopDefault($1VFfL)))($8d978fb9e8fe462c$var$pagContainer, $8d978fb9e8fe462c$var$options);\n// Якщо в нас меньше ніж 12 рецептів, то сховуємо пагінацію\n$8d978fb9e8fe462c$export$5940bd278fe7b1b2.isActive = function(itemsCount) {\n    var pagContainer = this._view._containerElement;\n    var totalItems = this._options.totalItems;\n    if (totalItems <= itemsCount) pagContainer.classList.add(\"hidden\");\n    else pagContainer.classList.remove(\"hidden\");\n};\nfunction $8d978fb9e8fe462c$export$902237846a01c527(arr) {\n    (0, $bBuwI.showFavRecipes)($8d978fb9e8fe462c$export$9d689ace8506abd6(arr, 1, pagInfo.itemsPerPage));\n    $8d978fb9e8fe462c$export$5940bd278fe7b1b2.reset(arr.length);\n    $8d978fb9e8fe462c$export$5940bd278fe7b1b2.isActive(pagInfo.itemsPerPage);\n}\nfunction $8d978fb9e8fe462c$export$385c7a40443be0d0(recipes, page) {\n    var data = $8d978fb9e8fe462c$export$9d689ace8506abd6(recipes, page, pagInfo.itemsPerPage);\n    (0, $bBuwI.showFavRecipes)(data);\n}\nfunction $8d978fb9e8fe462c$export$9d689ace8506abd6(arr, page, itemsCount) {\n    var start = (page - 1) * itemsCount; // page = 1 => 0\n    var end = start + itemsCount; // 12\n    var trimmedData = arr.slice(start, end);\n    return trimmedData;\n}\n\n\n\nvar $4Nugj = parcelRequire(\"4Nugj\");\n\nvar $cjLxQ = parcelRequire(\"cjLxQ\");\n\nvar $4s6iC = parcelRequire(\"4s6iC\");\n\nvar $ekakI = parcelRequire(\"ekakI\");\n\nvar $lasJG = parcelRequire(\"lasJG\");\ndocument.body.classList.add(\"favorite\");\nvar $b4e9393b1bd22e4c$var$favCards = (0, $97LJI.default).load((0, $4s6iC.KEY)) || {};\nvar $b4e9393b1bd22e4c$var$favRecipesItems = (0, $cjLxQ.getLocalFavRecipes)((0, $4s6iC.KEY));\nvar $b4e9393b1bd22e4c$var$pagInfo = {\n    itemsPerPage: window.innerWidth > 768 ? 12 : 9\n};\nfunction $b4e9393b1bd22e4c$var$sortByCategory(e) {\n    var target = e.target;\n    if (target.nodeName === \"BUTTON\") {\n        var currentActiveBtn = document.querySelector(\".btn-active\");\n        // Робимо активну тільки обрану кнопку.\n        currentActiveBtn.classList.remove(\"btn-active\");\n        target.classList.add(\"btn-active\");\n        // Після натискання на кнопку оновлюємо масив з улюбленими стравами\n        $b4e9393b1bd22e4c$var$favRecipesItems = Object.values($b4e9393b1bd22e4c$var$favCards);\n        // Якщо натискаємо на якийсь фільтр\n        if (target.matches(\"button.js-category\")) {\n            // Створюємо масив значення якого є відфільтрований масив\n            // з усіма улюбленими стравами\n            var newArr = $b4e9393b1bd22e4c$var$favRecipesItems.filter(function(param) {\n                var category = param.category;\n                return target.textContent === category;\n            });\n            // Перезаписуємо масив для пагінації\n            $b4e9393b1bd22e4c$var$favRecipesItems = newArr;\n            (0, $8d978fb9e8fe462c$export$902237846a01c527)(newArr);\n            return;\n        }\n        // Якщо натискаємо на allcategories\n        if (target.matches(\"button.js-allcategories\")) {\n            (0, $8d978fb9e8fe462c$export$902237846a01c527)($b4e9393b1bd22e4c$var$favRecipesItems);\n            return;\n        }\n    }\n}\nif ($b4e9393b1bd22e4c$var$favRecipesItems.length) (0, $lasJG.drawAllComponents)((0, $8d978fb9e8fe462c$export$9d689ace8506abd6)($b4e9393b1bd22e4c$var$favRecipesItems, 1, $b4e9393b1bd22e4c$var$pagInfo.itemsPerPage));\nelse (0, $ekakI.showNoRecipeBox)();\n(0, $4Nugj.favoriteRefs).cardsList.addEventListener(\"click\", function(e) {\n    if (e.target.nodeName === \"BUTTON\") (0, $iNcuh.finallInitPage)(e.target.closest(\".cards__item\").dataset.id);\n});\n(0, $4Nugj.favoriteRefs).filterList.addEventListener(\"click\", $b4e9393b1bd22e4c$var$sortByCategory);\n(0, $8d978fb9e8fe462c$export$5940bd278fe7b1b2).isActive($b4e9393b1bd22e4c$var$pagInfo.itemsPerPage);\n(0, $8d978fb9e8fe462c$export$5940bd278fe7b1b2).on(\"afterMove\", function(event) {\n    var currentPage = event.page;\n    (0, $8d978fb9e8fe462c$export$385c7a40443be0d0)($b4e9393b1bd22e4c$var$favRecipesItems, currentPage);\n});\n\n\nparcelRequire(\"ekakI\");\nparcelRequire(\"7bAtM\");\nparcelRequire(\"1AvsY\");\nparcelRequire(\"ibf8T\");\nparcelRequire(\"iNcuh\");\nparcelRequire(\"86tF5\");\nparcelRequire(\"bKWtT\");\n\n})();\n//# sourceMappingURL=favorites.9b58721d.js.map\n","import './js/header-mobile-menu';\nimport './js/favorites/favorites-main';\nimport './js/favorites/norecipe';\n\nimport './js/addToFavorites';\nimport './js/utils/markUpRating';\nimport './js/scheme/scheme';\nimport './js/pop-up';\nimport './js/index/order-now';\nimport './js/scrollToTop';\n","import 'tui-pagination/dist/tui-pagination.css';\nimport localctorage from '../utils/localctorage';\nimport { finallInitPage } from '../pop-up';\nimport {\n  favPagination,\n  filterPaginationPage,\n  showNextPage,\n  splitArrOnPages,\n} from './pagination';\nimport { favoriteRefs } from '../refs';\nimport { getLocalFavRecipes } from '../utils/getLocalFavoriteRecipes';\nimport { KEY } from '../constants';\nimport { showNoRecipeBox } from './norecipe';\nimport { drawAllComponents } from './drawAllComponents';\n\ndocument.body.classList.add('favorite');\n\nconst favCards = localctorage.load(KEY) || {};\n\nlet favRecipesItems = getLocalFavRecipes(KEY);\n\nconst pagInfo = {\n  itemsPerPage: window.innerWidth > 768 ? 12 : 9,\n};\n\nfunction sortByCategory(e) {\n  const target = e.target;\n\n  if (target.nodeName === 'BUTTON') {\n    const currentActiveBtn = document.querySelector('.btn-active');\n\n    // Робимо активну тільки обрану кнопку.\n    currentActiveBtn.classList.remove('btn-active');\n    target.classList.add('btn-active');\n    // Після натискання на кнопку оновлюємо масив з улюбленими стравами\n    favRecipesItems = Object.values(favCards);\n\n    // Якщо натискаємо на якийсь фільтр\n    if (target.matches('button.js-category')) {\n      // Створюємо масив значення якого є відфільтрований масив\n      // з усіма улюбленими стравами\n      const newArr = favRecipesItems.filter(({ category }) => {\n        return target.textContent === category;\n      });\n      // Перезаписуємо масив для пагінації\n      favRecipesItems = newArr;\n      filterPaginationPage(newArr);\n\n      return;\n    }\n\n    // Якщо натискаємо на allcategories\n    if (target.matches('button.js-allcategories')) {\n      filterPaginationPage(favRecipesItems);\n\n      return;\n    }\n  }\n}\n\nif (favRecipesItems.length) {\n  drawAllComponents(splitArrOnPages(favRecipesItems, 1, pagInfo.itemsPerPage));\n} else {\n  showNoRecipeBox();\n}\n\nfavoriteRefs.cardsList.addEventListener('click', e => {\n  if (e.target.nodeName === 'BUTTON') {\n    finallInitPage(e.target.closest('.cards__item').dataset.id);\n  }\n});\nfavoriteRefs.filterList.addEventListener('click', sortByCategory);\n\nfavPagination.isActive(pagInfo.itemsPerPage);\nfavPagination.on('afterMove', event => {\n  const currentPage = event.page;\n  showNextPage(favRecipesItems, currentPage);\n});\n","import Pagination from 'tui-pagination';\nimport localctorage from '../utils/localctorage';\nimport { KEY } from '../constants';\nimport { showFavRecipes } from './showFavRecipes';\n\nconst loadCards = localctorage.load(KEY) || {};\nconst cardsArray = Object.values(loadCards);\nconst pagContainer = document.querySelector('.favorite__pagintaion');\n\nconst options = {\n  totalItems: cardsArray.length,\n  itemsPerPage: 12,\n  visiblePages: window.innerWidth < 768 ? 2 : 3,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"pag__page-btn tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"pag__current-page tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"pag__btn-move tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"pag__btn-move pag__btn-disabled tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nconst favPagination = new Pagination(pagContainer, options);\n\n// Якщо в нас меньше ніж 12 рецептів, то сховуємо пагінацію\nfavPagination.isActive = function (itemsCount) {\n  const pagContainer = this._view._containerElement;\n  const totalItems = this._options.totalItems;\n  if (totalItems <= itemsCount) {\n    pagContainer.classList.add('hidden');\n  } else {\n    pagContainer.classList.remove('hidden');\n  }\n};\n\nexport function filterPaginationPage(arr) {\n  showFavRecipes(splitArrOnPages(arr, 1, pagInfo.itemsPerPage));\n  favPagination.reset(arr.length);\n  favPagination.isActive(pagInfo.itemsPerPage);\n}\n\nexport function showNextPage(recipes, page) {\n  const data = splitArrOnPages(recipes, page, pagInfo.itemsPerPage);\n  showFavRecipes(data);\n}\n\nexport function splitArrOnPages(arr, page, itemsCount) {\n  const start = (page - 1) * itemsCount; // page = 1 => 0\n  const end = start + itemsCount; // 12\n\n  const trimmedData = arr.slice(start, end);\n  return trimmedData;\n}\n\nexport { favPagination };\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$97LJI","$iNcuh","$1VFfL","$4s6iC","$bBuwI","$8d978fb9e8fe462c$var$cardsArray","Object","values","default","load","KEY","$8d978fb9e8fe462c$var$pagContainer","document","querySelector","$8d978fb9e8fe462c$var$options","totalItems","length","itemsPerPage","visiblePages","innerWidth","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","$8d978fb9e8fe462c$export$5940bd278fe7b1b2","a","__esModule","$8d978fb9e8fe462c$export$902237846a01c527","arr","showFavRecipes","$8d978fb9e8fe462c$export$9d689ace8506abd6","pagInfo","reset","isActive","itemsCount","start","end","slice","pagContainer","_view","_containerElement","_options","classList","add","remove","$4Nugj","$cjLxQ","$ekakI","$lasJG","body","$b4e9393b1bd22e4c$var$favCards","$b4e9393b1bd22e4c$var$favRecipesItems","getLocalFavRecipes","$b4e9393b1bd22e4c$var$pagInfo","drawAllComponents","showNoRecipeBox","favoriteRefs","cardsList","addEventListener","e","target","nodeName","finallInitPage","closest","dataset","filterList","currentActiveBtn","matches","newArr","filter","param","category","textContent","on","event","data"],"version":3,"file":"favorites.9b58721d.js.map"}